\documentclass[math, info]{cours}
\author{Matthieu Boyer}
\title{Homework 2}
\begin{document}
\maketitle
\section{Question 1}
\begin{notationT}
	For $I \subseteq E$ and $b \in B$, we will denote $I(b) = \left\{ a \in A \mid (a, b) \in I \right\}$ and by $I(X) = \left\{ a\in X \mid \exists b\in B, (a, b) \in I \right\}$.
\end{notationT}

We then define the matroids $\mathbb{A} = (E, \A)$, $\mathbb{B} = (E, \B)$ where:
\begin{align*}
	\A = \left\{ I \subseteq E \mid \abs{I(a)} \leq 1 \forall a \in A\right\}\\
	\B = \left\{ I \subseteq E \mid I(b) \in \mathcal{M}_{b} \forall b \in B\right\}
\end{align*}

We then see that $M \subseteq E$ is a $A$-perfect matching if and only if $\abs{M} = \abs{A}$ and
$M$ is an independent set of $\A$ and $\B$.
Thus, we will call sets in $\A \cap \B$ independent matchings.

Then, since $\abs{A} \geq \max_{I \in \A}{\abs{I}}$, from Edmonds' mini-max formula on matroid intersection, we just need to have $\min_{I\subseteq E} r_{\A}(I) + r_{\B}(E\setminus I) \geq \abs{A}$ to have the existence of a $A$-perfect matching.

We define $s: 2^{E} \to \N$ as:
\begin{equation}
  s(I) = \sum_{b \in B} rank_{M_{b}}(I(b) \cap N(b))
\end{equation}

We see that the rank set in $\B$ can be seen as the ranks on each component (by separating edges on the $b \in \B$ they are connected to).
Indeed, since $\B$ can be seen as a union of matroids (the $M_{b}$ seen as matroids on the edges connected to $b$) we have, for $I \subseteq E$:
\begin{equation*}
	r_{\B}(I) = \min_{T \subseteq I} \abs{I\setminus T} + s(T) = \min_{T \subseteq I} \abs{I} - \abs{T} + s(T)
\end{equation*}
Then plugging this into our main equation:
\begin{equation*}
	\begin{aligned}
		r_{\A}(E\setminus I)  + r_{\B}(I) =& r_{\A}(E\setminus I) + \min_{T} \abs{I} - \abs{T} + s(T)\\
		\geq & \min_{T} \abs{I} - \abs{T} + s(T)\\
		= & \min_{T} \abs{A} - \abs{T(A)} + s(T)
	\end{aligned}
\end{equation*}
But since this should be greater than $\abs{A}$ for all $T$ and all $I$, it is equivalent to being true for all possible $A' = T(A)$ (and modifying the \emph{type} of $s$ accordingly, which doesn't change anything) and thus:
\begin{equation*}
	\boxed{\max_{I\in \A \cap \B} \abs{I} = \abs{A} \Longleftrightarrow \forall A'\subseteq A, s(A') - \abs{A'} \geq 0}
\end{equation*}
which is the wanted result.

\section{Question 2}
Let $F = 2^{I}$ and let us denote by $g: 2^{\mathcal{F}} \to \R^{+}$ the function that to a family of sets gives their combined profit.
Clearly, $g$ is submodular.
Furthermore we denote by $X_{0}$ the emptyset, and by $X_{i}$ the set of items taken after $i$ knapsacks were filled by our algorithm.
Since we apply the FPTAS $k$ times, and since $g$ is submodular, we have:
\begin{equation}
	g(X_{i}) - g(X_{i - 1}) \geq \frac{OPT - g(X_{i - 1})}{k}
	\label{eq:induction}
\end{equation}
for each $i$, where $OPT$ is the weight of an optimal solution.
Then, we have:
\begin{equation}
	g(X_{1}) - g(X_{0}) = g(X_{1}) \geq \frac{OPT}{k} = OPT(1 - \left(1 - \frac{1}{k}\right))
	\label{eq:firststep}
\end{equation}
and then:
\begin{equation*}
        g(X_{2}) \geq OPT(1 - \left(1 - \frac{1}{k}\right)^{2})
\end{equation*}
By induction:
\begin{equation*}
        g(X_{i}i) \geq OPT(1 - \left(1 - \frac{1}{k}\right)^{i})
\end{equation*}
And thus:
\begin{equation*}
        g(X_{k}) \geq OPT(1 - \left(1 - \frac{1}{k}\right)^{k}) \geq OPT(1 - \frac{1}{e})
\end{equation*}

\section{Question 3}
\subsection{Part 1}


\subsection{Part 2}
\begin{algorithm}
	\caption{Minimum Odd Size Cut}
	\begin{itemize}
		\item First,we build the Gomory-Hu tree of our graph.
		\item Then, for each edge in the tree we consider both components formed by removing the edge.
		\item For every odd-sized such component, we retrieve the cut size (the label of the edge in the Gomory-Hu tree), if it's less than one we return True.
			If none are of cut size $\leq 1$ then we return false.
	\end{itemize}
\end{algorithm}

This algorithm takes:
\begin{equation*}
	\O\left( \underbrace{(n-1)\times \text{max-flow}}_{\text{Gomory-Hu algorithm}} + \underbrace{n^{2}}_{\text{Check Sizes}} + \underbrace{n}_{\text{Retrieve Cut-size}} \right)
\end{equation*}

For correctness we just need to show that one of the cuts determined by $T$ is a minimum odd cut in $G$.
To do so, we just need to see that if $\delta(U)$ is a min odd cut in $G$, then $U$ or $V \setminus U$ is the symmetric difference of the $V_{f}$ for $f \in \delta_{F}(U)$.
Hence, $\abs{V_{f}}$ must be odd for at least one of the $f\in \delta_{F}(U)$ or $\abs{U}$ would be even. So $\delta_{G}(V_{f})$ is an odd cut.
If $f = (u, v)$, $\delta_{G}(V_{f})$ is a minimum $u - v$ cut and as $\delta_{G}(U)$ is $u-v$ cut, $\delta_{G}(V_{f})$ is a minimum odd-cut.

\end{document}
